<!DOCTYPE html>
<html>
    <head>
        <title>
            CW2
        </title>
        <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    </head>
    <body>
      <div class="container mt-4">
        <h1 class="text-center">Chuck Norris Jokes</h1>
        <div class="d-grid gap-2">
            <button id="getJokeBtn" class="btn btn-primary">Get Joke</button>
        </div>
        <div id="jokeContainer" class="mt-4"></div>
      </div>  
    </body>

    <script>
        const jokeApi = 'https://api.chucknorris.io/jokes/random'
        const getJokeBtn = document.getElementById("getJokeBtn")
        const jokeContainer = document.querySelector("#jokeContainer")

        getJokeBtn.addEventListener("click",function(){
            fetch(jokeApi)
            .then(function responseHandler (response){
                return response.json()
            })
            .then(function showdata(data){
                console.log(data)
                if(data.value){
                    const joke = data.value
                    jokeContainer.textContent = joke
                }else{
                    jokeContainer.textContent="Failed to get jokes"
                }
            })
            .catch(function(error){
                jokeContainer.textContent="An error occured while fetching"
            })
        })
    </script>
</html>